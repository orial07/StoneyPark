(()=>{Number.prototype.asMoney=function(){return"$ ".concat(this.toFixed(2))};var e="MM/DD/YYYY";function t(t,a){t=t.startOf("day"),a=a.startOf("day"),nights=moment.duration(a.diff(t)).asDays(),nights<1?$("#nights").html('<span class="text-danger">The reservation must be at least 1 night long.</span>'):(n(),Stoney.GetCampgroundsStatus("".concat(t.format(e)," - ").concat(a.format(e)),(function(e,t,a){for(var n=document.querySelectorAll("#cg-campsite-list > div"),r=0;r<n.length;r++){var c=n[r],o=document.querySelector("#".concat(c.id,"-status"));o.innerHTML="Checking...",o.classList.remove("bg-danger","bg-success");for(var i=!0,s=0;s<e.length;s++)if(c.id==e[s].campground_id){o.classList.add("bg-danger"),o.innerHTML="Unavaialble",i=!1;break}o.classList.add("bg-success"),i&&(o.innerHTML="Available")}})))}function a(){var e=document.querySelector("#campers-container"),t=Math.max(1,Math.min(6,document.querySelector("#campers-count").value));e.innerHTML="";for(var a=0;a<t-1;a++)e.innerHTML+='<div class="row">    <div class="col">        <div class="mb-3">            <label class="form-label w-100" for="camper-name-first-'.concat(a,'">First Name</label>            <input class="form-control" id="camper-name-first-').concat(a,'" name="camper-name-first-').concat(a,'" type="text" autocomplete="on" required="true" placeholder="First Name">        </div>    </div>    <div class="col">        <div class="mb-3">            <label class="form-label w-100" for="camper-name-last-').concat(a,'">Last Name</label>            <input class="form-control" id="camper-name-last-').concat(a,'" name="camper-name-last-').concat(a,'" type="text" autocomplete="on" required="true" placeholder="Last Name">        </div>    </div></div>')}function n(){$("#nights").html('This reservation will be for <span class="text-primary">'.concat(nights," night").concat(1==nights?"":"s","</span>"));var e=CAMPING_TYPES[document.querySelector("input[name=camp-type]:checked").value],t=e.price*nights;$("#invoice-camp-type").text(e.name),$("#invoice-camp-price").text(e.price2.asMoney()),$("#invoice-nights-qty").text(nights),$("#invoice-nights-price").text(t.asMoney()),t+=e.price2,$("#invoice-tax-gst").text((.05*t).asMoney()),$("#invoice-total").text((t*=1.05).asMoney());for(var a=0;a<CAMPING_TYPES.length;a++){var n=CAMPING_TYPES[a],r=n.price*nights+n.price2;$("#camp-type-price-".concat(a)).text(r.asMoney())}var c=$('input[name="dates"]').data("daterangepicker"),o=c.startDate.format("LL"),i=c.endDate.format("LL");$("#date-in").text(o),$("#date-out").text(i)}Stoney.OnCampgroundsLoaded=function(){var e=$('input[name="dates"]').data("daterangepicker");t(e.startDate,e.endDate)},jQuery((function(){var r=moment().set({hour:0,minute:0,second:0,millisecond:0}),c=moment(r).add(1,"day");$('input[name="dates"]').daterangepicker({startDate:r.format(e),endDate:c.format(e),minDate:r.format(e)},(function(e,a,n){t(e,a)})),a(),document.querySelector("#campers-count").onchange=function(e){return a()},document.querySelector("#reserve-form").onchange=function(e){return n()}}))})();